<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Smart Refill Reminder — Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <!-- Chart.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
	@keyframes pop {
		from { transform: scale(0.7); opacity:0; }
		to { transform: scale(1); opacity:1; }
	}
	@keyframes fadeDown {
	  from { opacity:0; transform: translateY(-10px); }
	  to   { opacity:1; transform: translateY(0); }
	}
</style>
</head>
<body>
	<div id="full-alert" style="
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(4px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
">
    <div style="
        background: #ffe5e8;
        padding: 30px 40px;
        border-radius: 14px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.25);
        text-align: center;
        max-width: 350px;
        animation: pop 0.25s ease-out;
        font-family: 'Balsamiq Sans', sans-serif;
    ">
        <h2 style="color:#8b0000; margin:0 0 10px 0;">⚠ Low Stock Alert</h2>
        <p id="full-alert-msg" style="margin-bottom:15px; color:#4a0000; font-size:18px;"></p>
        <button onclick="closeFullAlert()" style="
            background:#e63946;
            color:white;
            padding:10px 18px;
            border:none;
            border-radius:8px;
            cursor:pointer;
            font-size:16px;
        ">OK</button>
    </div>
</div>
  <header class="header">
    <h1>Smart Refill Reminder for Daily Essentials</h1><br>
  </header>

  <main class="container">
	<div id="inline-alert" style="
		display:none;
		background:#ffe5e8;
		border:1px solid #ffb3b8;
		padding:18px 22px;
		border-radius:12px;
		margin-bottom:18px;
		font-family:'Balsamiq Sans', sans-serif;
		color:#8b0000;
		box-shadow:0 4px 12px rgba(0,0,0,0.08);
		animation: fadeDown 0.35s ease-out;
	">
		<strong>⚠ Low Stock Warning:</strong>
		<span id="inline-alert-msg"></span>
	</div>
    <section class="cards">
      <div class="card">
        <h3>Current Weight</h3>
        <p id="current-weight">-- g</p>
        <small id="last-update">Last update: --</small>
      </div>

      <div class="card">
        <h3>Avg Daily Consumption</h3>
        <p id="avg-consumption">-- g/day</p>
      </div>

      <div class="card">
        <h3>Estimated Days Remaining</h3>
        <p id="days-remaining">-- days</p>
      </div>
    </section>

    <section class="chart-section">
      
	  
	  <!--<div style="display:flex; gap:20px; width:100%; justify-content:space-between;">-->
		<div class="graph-box">
		<div class="chart-container"><h2>Weight History</h2>
		<canvas id="weightChart"></canvas></div>
		<div class="chart-container"><h2>Percentage chart</h2>
		<canvas id="percentChart"></canvas></div>
	  </div>
	<!--style="width:48%; height:300px;-->
      <!--<canvas id="weightChart" height="120"></canvas>-->
      <div class="controls">
        <label>
          ThingSpeak Channel ID:
          <input id="channel-id" placeholder="e.g. 123456" />
        </label>
        <label>
          Field number (weight):
          <input id="field-number" value="1" />
        </label>
        <button id="load-button">Load from ThingSpeak</button>
        <button id="demo-button">Load Demo Data</button>
		<button id="updateButton" class="update-btn">Update Now</button>

      </div>
      <p class="note">If you use ThingSpeak, set the channel to public or use a read API key.</p>
    </section>
	
	<div id="low-alert" style="
    padding: 15px;
    background: #ffdadb;
    color: #b1000e;
    border-radius: 10px;
    margin-bottom: 20px;
    font-weight: bold;
    display: none;"></div>
  </main>

  <footer class="footer">
    <small>Project by -> Afia Hayat, Amisha Kapar, Ashmita, Ayushi Solani, Bhavna Prakash.</small>
	<p style="font-size: 15px; text-align: center;">&#xA9; Copyright 2025</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>